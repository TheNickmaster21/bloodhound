<html xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <script src="/resources/jquery-3.3.1.js"></script>
    <link rel="stylesheet" href="/resources/bootstrap-4.0.0-dist/css/bootstrap.min.css"/>
    <script src="/resources/popper.min.js"></script>
    <script src="/resources/vue.js"></script>
    <script src="/resources/underscore.js"></script>
    <link href="/resources/open-iconic/font/css/open-iconic-bootstrap.css" rel="stylesheet">
    <script src="/resources/bootstrap-4.0.0-dist/js/bootstrap.min.js"></script>

    <link href="/global.css" rel="stylesheet">
</head>
<body>
<div class="popupBody" id="ruleset-page">
    <header>
        <a href="/index.html">
            <span class="oi oi-home"></span>
        </a>
        <h3>
            <span>Rule Sets</span>
        </h3>
    </header>

    <div class="margin-sm">
        Name: <input v-model="ruleSet.name">
    </div>
    <button class="btn btn-primary margin-sm" v-on:click="newRule()">New Rule</button>
    <div class="margin-sm">
        <button class="btn btn-primary" v-on:click="prevRule()">Prev</button>&nbsp;
        Rule ({{ruleIndex + 1}}/{{ruleSet.rules.length}})&nbsp;
        <button class="btn btn-primary" v-on:click="nextRule()">Next</button>
    </div>
    <div class="margin-sm">
        Name: <input v-model="ruleSet.rules[ruleIndex].name">
    </div>
    <div class="margin-sm">
        <input type="checkbox" id="uniqueCheckbox" v-model="ruleSet.rules[ruleIndex].unique">&nbsp;
        <label for="uniqueCheckbox">Unique Column Value</label>
    </div>
    <h4>{{ ruleSet.rules[ruleIndex].innerText }}</h4>
    <div class="margin-sm">
        <input v-model="userText">&nbsp;<button class="btn" v-on:click="updateMatchedTokens()">Find</button>
    </div>
    <div class="margin-sm">
        <p v-for="token in matchedTokens">
            <!--<span v-if="token.before">{{token.before.innerText}}</span>-->
            <strong>{{token.innerText}}</strong> - {{token.elements}}
            <!--<span v-if="token.after">{{token.after.innerText}}</span>-->
            <button v-on:click="pickToken(token)">Select</button>
        </p>
    </div>
    <button class="btn btn-secondary margin-sm" v-on:click="save()">Save</button>
</div>
<script src="ruleSetController.js"></script>
</body>
</html>